{% extends 'base.html.twig' %}

{% block title %}Hello ImportExcelCTLLController!
{% endblock %}

{% block body %}

	<div class="container-fluid p-5">
		{{form_start(form)}}

		{{form_end(form)}}

		{% if nbDonneesInserees is not empty %}

			{% set labels = {
			'nbOfExcelRow': 'Nombre de lignes Excel',
			'nbOfInsertedSusar': 'Nombre de SUSAR insérés',
			'nbOfInsertedMedic': 'Nombre de médicaments insérés',
			'nbOfInsertedEffInd': 'Nombre d\'effets indésirables insérés',
			'nbOfInsertedMedHist': 'Nombre d\'antécédents médicaux insérés',
			'nbOfInsertedIndic': 'Nombre d\'indications insérées'
		} %}

		<table class="table table-bordered">
			<thead>
				<tr>
					<th>Table</th>
					<th>Nb lignes insérées</th>
				</tr>
			</thead>
			<tbody>
				{% for key, value in nbDonneesInserees %}
					<tr>
        				<td><strong>{{ labels[key] is defined ? labels[key] : key }}</strong></td>
						<td>{{ value }}</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
	{% else %}
		<p>Aucune donnée insérée.</p>
	{% endif %}

	{% if dureeImport is not empty %}
		<p>Duree d'import ou de traitement : {{ dureeImport|number_format(3, '.', ',') }} secondes.</p>
	{% endif %}
			{# {% include "_partials/_affiche_active_sub_grouping.html.twig" %} #}

		</div>

	{% endblock %}
